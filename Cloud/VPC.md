## VPC
---
### VPC란
* AWS 클라우드에서 논리적으로 격리된 네트워크 공간을 할당하여 가상 네트워크에서 AWS 리소스를 이용할 수 있는 서비스
![VPC구조](https://velog.velcdn.com/images%2Fmay_soouu%2Fpost%2F85314b79-7369-461c-bd0d-0725278fe355%2Faws.jpeg)
* VPC는 AWS클라우드에서 다른 가상 네트워크와 논리적으로 분리되어 있음
---
### VPC특징
* VPC 자체 IP 주소 범위, 서브넷 생성, 라우팅 테이블 및 네트워크 게이트웨이 구성 선택 등 가상 네트워킹 환경을 제어 가능
* IPv4와 IPv6을 모두 사용하여 리소스와 애플리케이션에 안전하게 이용 가능
* 보안 그룹 및 네트워크 제어 목록을 포함한 다중 보안 계층을 활용하여 각 서브넷에서 EC2 인스턴스에 대한 액세스를 제어할 수 있음
---
### VPC의 구성요소
* subnet
    * 할당된 VPC를 용도에 맞게 네트워크 공간을 세분화 하여 사용함
* NAT Gateway
    * 폐쇄된 네트워크에서 외부와의 인터넷 통신 시 사용하는 게이트웨이
* Route Table
    * 네트워크 경로를 설정할 수 있는 기능을 제공함
    * VPC 내부 통신을 위한 Local은 기본적으로 설정됨
* ACG
    * 서버에서 인바운드/아웃바운드의 네트워크 접근제어를 지원하며 Stateful 기반으로 동작함
* NACL
    * Subnet에서 인바운드/아웃바운드의 네트워크 접근제어를 지원하며 Stateless 기반으로 동작함
* Virtual Private Gateway
    * Cloud Connect와 IPSec VPN 연결을 지원함
* VPC Peering
    * VPC간 사설연결을 보장하는 기능
    * 보다 안전한 사설 IP 기반의 통신이 가능함
---
### VPC의 기능
1. Reachability Analyzer  
도달가능성 분석기는 VPC 내 두 개의 리소스 간 네트워크 도달가능성을 분석및 디버깅할 수 있는 정적 구성 분석 도구
2. VPC 플로 로그  
S3 또는 CloudWatch로 전달되는 VPC 플로 로그를 모니터링하여 네트워크 의존성 및 트래픽 패턴에 대한 운영 가시성을 얻고, 추적하며 데이터 유출을 예방함, 네트워크 연결성 및 구성 문제를 해결 가능함
3. VPC 트래픽 미러링  
VPC 트래픽 미러링은 EC2 인스턴스의 탄력적 네트워크 인터페이스에서 네트워크 트래픽을 복사하고 다음 트래픽을 심도있는 패킷 조사를 위해 대역 외 보안 및 모니터링 장치로 전송할 수 있게 허용함
4. 인그레스 라우팅  
인터넷 게이트웨이 또는 가상 프라이빗 게이트웨이, 지정 EC2인스턴스의 탄력적 네트워크 인터페이스로 모든 인바운드 및 아웃바운드 트래픽의 흐름을 라우팅 가능함
5. 보안 그룹 규칙  
연결된 Amazon EC2 인스턴스에 대한 방화벽 역할을 하며 인스턴스 수준에서 인바운드 및 아웃바운드 트래픽을 모두 제어함
6. Network Access Control List  
VPC용 선택적 보안 레이어로 하나 이상의 서브넷으로 출입하는 트래픽을 제어하는 방화벽 역할을 수행함