# **Network**
> **네트워크의 기본적인 지식을 공부한 내용**
---
![네트워크 기본 구성](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FAs4JA%2FbtqxXIUxLlE%2FOgIbrqt2cELVz775FhpfVk%2Fimg.png)
* 위 사진은 네트워크 의 기본적인 구성임
---
## **네트워크(기술) 이란?**
* 서버와 클라이언트의 정보가 오고가는 다리 역할을 하는 기술의 총칭을 의미함
* 네트워크라는 말은 ```연결되어 있다``` 라는 뜻으로 컴퓨터 네트워크는 데이터를 케이블에 실어 나르는 것을 의미함
---

## **네트워크 작동 원리**
* 네트워크는 OSI 참조 모델을 바탕으로 작동함
* OSI 참조 모델은 국제표준화기구(ISO) 가 컴퓨터 통신 기능을 계층 구조로 나눠서 정리한 모델로 일종의 통신 규칙 모음이라고 생각하면 됨
* 보통 ```OSI 7 계층``` 이라고 하는데 하위 계층(물리 계층) 부터 상위 계층(전송 계층) 으로 구성됨
---
## **OSI 7 계층**
* 제 1계층(물리 계층) : 네트워크 케이블의 재질이나 커넥터의 형식, 핀의 나열 방법 등 물리적인 요소를 모두 규정한다.
* 제 2계층(데이터 링크 계층) : 직접 연결된 기기 사이에 논리적인 전송로(데이터 링크)를 확립하는 방법을 규정한다.
* 제 3계층(네트워크 계층) : 동일 또는 다른 네트워크의 기기와 연결하기 위한 주소와 경로의 선택 방법을 규정한다.
* 제 4계층(전송 계층) : 데이터를 통신할 상대에게 확실하게 전달하는 방법을 규정한다.
* 제 5계층(세션 계층) : 데이터를 흘려보내는 논리적인 통신로(커넥션)의 확립과 연결 끊기에 대해 규정한다.
* 제 6계층(표현 계층) : 애플리케이션 데이터를 통신에 적합한 형태로 변환하는 방법을 규정한다.
* 제 7계층(응용 계층) : 애플리케이션 별로 서비스를 제공하는 방법을 규정한다.  

    |OSI 참조 모델|프로토콜|
    |:---:|:---:|
    |응용 계층 (제 7계층)|애플리케이션 프로토콜(HTTP 등)
    |표현 계층 (제 6계층)|애플리케이션 프로토콜(HTTP 등)
    |세션 계층 (제 5계층)|애플리케이션 프로토콜(HTTP 등)
    |전송 계층 (제 4계층)|TCP, UDP
    |네트워크 계층 (제 3계층)|IP, ICMP, ARP
    |데이터 링크 계층 (제 2계층)|이더넷
    |물리 계층 (제 1계층)|이더넷
---
## **프로토콜**
* 프로토콜이란 네트워크 통신을 위한 통신 규칙을 의미함
* 프로토콜의 역할은 데이터의 캡슐화와 캡슐 해제화를 하는 것
* 네트워크 통신에서 OSI 참조 모델의 계층을 넘어설 때마다 데이터를 캡슐에 넣거나 꺼냄
* 아래 사진은 프로토콜 캡슐화 / 캡슐 해제화 에 관한 사진임
![프토토콜 캡슐화/캡슐 해제화](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2F5cvbo%2FbtqxZShvgqi%2FIP30VHKYWP4pEMmERgRRPK%2Fimg.png)
---
## **제 1 계층 < 물리 계층 >**
* 제 1 계층에는 ```Bit```, ```Bandwith```, ```Ethernet```, ```UTP```, ```STP``` 등이 있음
* ```UTP``` 와 ```STP``` 의 차이는 ```UnShield``` 와 ```Shield``` 의 차이임
* **UTP**
    * 쉽게 끊어짐
    * 전기적간섭 이 심함
        * ex) 5000을 전송하면 3000만 전달될수도 있음
    * 가격이 저렴함
* **STP**
    * 잘 끊어지지 않음
    * 전기적간섭 이 없음
        * ex)5000을 전송하면 5000이 전부 전송될것임
    * 가격이 비쌈
* ```Bit``` 는 전기적 신호, 즉 데이터 임
* ```Bandwith``` 는 대역폭, 대역폭에 따라 속도가 빠른지 느린지 정해짐
* ```Ethernet``` 은 Bit 가 지나다니는 UTP&STP 케이블을 다 합쳐서 Ethernet 이라고 부름
---
## **제 2 계층 < 데이터 링크 계층 >**
* 제 2 계층에는 ```Dummy Hub```, ```Bridge```, ```Swich```, ```ARP```, ```RARP```, ```MAC address``` 등이 있음
* ```Dummy Hub``` 와 ```Swich``` 의 차이는 가격
* **Dummy Hub**
    * A라는 컴퓨터가 D라는 컴퓨터를 찾고싶으면 Dummy Hub로 연결되있는 모든 컴퓨터에게 D를 찾는 request를 보냄 만약 받는 컴퓨터가 D가 아니라면 request를 버리게되고, 받는컴퓨터가 D라면 Response 를 Dummy Hub 로 보내게 되고 Dummy Hub 는 A라는 컴퓨터에게 D의 Response 를 보내줌
* **Swich**
    * A라는 컴퓨터가 D라는 컴퓨터를 찾고싶으면 Swich 에게 request를 보내게 되고
    Swich 는 가지고 있던 테이블에 있는 경로 중에 D의 주소를 찾아 a의 request 를 보내게 되고 request를 받은 D라는 컴퓨터는 Swich 로 response를 보내게 되고 Swich 가 A라는 컴퓨터에게 D의 response를 보내줌
* ```Bridge``` 는 서로 다른 IP를 가지고 있는 2개의 컴퓨터가 통신을 하고 싶을때 Bridge 라는 다른 네트워크 대역을 연결시켜주는 네트워크 장비를 통해 통신을 가능하게 함
* 모든 컴퓨터는 물리적 아이디(LAN)와 논리적 아이디(IP)를 가지고있음
* 물리적 아이디는 변할수 없지만 논리적 아이디는 변할수 있음
* LAN주소 **(AA:AA:AA:BB:BB:BB) (16진수)**
    - AA:AA:AA는 LAN만든 회사의 고유번호(OUI)
    - BB:BB:BB는 LAN카드들의 각각의 고유번호(SegNum)
* 두 컴퓨터가 통신을 할때 한 컴퓨터가 다른컴퓨터의 IP주소에 MAC address를 request
하게 되고 request를 받은 컴퓨터는 MAC address 를 response 하게 됨 그럼 response 를 받은 컴퓨터는 정보를 MAC 주소 테이블에저장해놓고 다음 통신을 할때에는 request 를 하지 않음
* IP를 물어봤을때 MAC address 를 반환 하는것을 ```ARP``` 라고 함
* MAC address를 물어봤을때 IP를 반환 하는것이 ```RARP``` 라고 함
---
## **제 3 계층 < 네트워크 계층 >**
* 제 3 계층 에는```Packet```, ```Router```, ```Routing```, ```ICMP```,```IP address``` 등이 있음
* IP address 는 변할수있음
* **Packet**
    * A라는 컴퓨터가 연결된 컴퓨터들 중에서 원하는 IP의 MAC address를 request
    할때 요청하는 데이터를 Packet 라고 함 즉 Packet는 ```네트워크 상에서 돌아다니는 모든 데이터``` 를 칭함
* **ICMP**
    * 프로토콜의 한 종류
    * 통신이 잘 되고있는지 확인하기 위해 사용되는 프로토콜 임
* **Router, Routing**
    * Router 는 각각의 다른 네트워크 대역을 연결시켜줌
    * Routing 은 가장 빠른 경로에 연결 해주는 것
    * Router는 Routing을 해서 최적의 경로를 알아냄
---
## **제 4 계층**
* 제 4 계층 에는 ```Segmentation```, ```TCP```, ```UDP```, ```Socket```, ```L4 Swich(Load Balancer)```, ```Port``` 등이 있음
* TCP, UDP 의 차이는 신뢰성이 있다, 신뢰성이 없다 의 차이임
* **TCP**
    * 인터넷상에서 데이터를 메세지의 형태로 보내기 위해 IP와 함께 사용하는 프로토콜
* **UDP**
    * 데이터를 데이터그램 단위로 처리하는 프로그램
* **Port**
    * 프로토콜과 비슷한 개념
    * 데이터를 주고받기 위해 열린 하나의 관문
* **Socket**
    * TCP, UDP 방식을 설정할수 있는 규약
* **Segmentation, L4 Swich**
    * 서버 1개가 원활하게 통신할수 있는 갯수를 넘으면 속도가 느려짐
    * **L4 Swich(Layer 4 Swich) = Load Balancer**
        * L4 Swich 는 들어오는 패킷 갯수를 연결되어 있는 서버들의 원활하게
        통신할수 있는 갯수를 고려하여 적당히 분배해서 연결시킴
        * 고가용성, 확장성을 가짐
    * **Segmentation**
        * Segmentation 은 분할 이라는 뜻으로 10byte 의 데이터를 2byte의 Bandwith 로 보낸다고 하면 10byte 의 데이터를 2byte 씩 5개로 분할하여 sequence 를
        지정해주고 데이터를 전송하면 도착지에서 sequence 차례대로 정렬하여
        데이터를 읽어옴
        * 분할된 각각의 데이터들을 Segmentation 이라고 함