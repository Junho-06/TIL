## Virtual Machine 과 Container

### VM이란
공통적으로 하나의 서버가 있고 한서버에는 어떤 운영 체제가 있건 HostOS 가 올라감  
VM의 경우 호스트OS에 의해 VM을 가상화 시켜주는 하이퍼바이저들이 있음  
하이퍼 바이저를 사용하여 원하는 운영체제로 GuestOS를 올려 여러 VM을 만들 수 있음  
GuestOS도 HostOS와 같이 하나의 OS를 독립적으로 가지고 있는것처럼 사용 가능함  
여러 어플리케이션들을 설치하고 각각의 서비스를 만들 수 있음


### Container란
VM과 HostOS 는 동일하다, HostOS에 의해 컨테이너를 가상화 시켜주는 여러가지 소프트웨어들이 있음  
 - ex) 리눅스마다 버전이 있음, 버전에 따라 기본적으로 설치되는 라이브러리들이 다름,  
    리눅스 6에서 개발한 제품을 리눅스 7버전 서버에 띄우게 되면 버전 차이에 의한 문제가 발생할 것이다  
    도커를 사용하게 되면 컨테이너 이미지를 만들수 있는데 이미지에는 서비스와 서비스가 돌아가는데 필요한 라이브러리들이 같이 존재함  
    서버에 리눅스 7이 깔려있더라도 도커를 이용하여 컨테이너 이미지를 컨테이너로 띄우면 리눅스 7버전에서 리눅스 6버전을 띄우게 되는것이다  

또한 도커는 여러 컨테이너들간의 호스트 자원을 분리해서 사용하게 해준다  

한마디로 컨테이너는 OS에서 제공하는 자원격리 기술을 이용하여 컨테이너라는 단위로 서비스를 분리할수 있게 만들고  
개발환경에 대한 걱정없이 배포가 가능하게 해주는 기술

### VM과 Conatiner의 차이
![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FegOo2z%2FbtrgjGzO0Kl%2FfvyCXk4QH1sIM77LN1Rp6k%2Fimg.jpg)
VM과 Container의 차이는 위 그림으로 설명이 가능하다  

시스템 구조적으로 컨테이너는 한 OS를 공유하는 구조이고 VM은 각각의 OS를 띄워야하는 구조이기 때문에 컨테이너 빠름  
하지만 VM은 사용자가 윈도우를 사용하고 있더라도 새로운 GuestOS를 설치할 때 리눅스 OS를 설치해서 사용할 수 있지만  
컨테이너는 리눅스 OS에서 윈도우용 컨테이너를 사용할 수 없음  
  
또한 보안적으로 V은 문제가 생겨도 각각의 VM이 분리되어 있기 때문에 서로 피해가 가지 않지만 컨테이너는 문제가 발생할수 있음  
  
한 서비스를 만들 때 한가지 언어를 사용하여 여러 모듈들이 한 서비스로 같이 돌아감  
A와 B모듈은 괜찮은데 C모듈에 부하가 많이 가는 상황이면 VM을 하나 더 생성해서 띄워야 함  
반면 컨테이너는 한 서비스를 만들 때 모듈별로 쪼개서 각각의 컨테이너에 담고 그 모듈에 최적화 된 개발 언어를 사용함  
  
쿠버네티스는 여러 컨테이너들을 한 파드라는 개념으로 묶을 수 있고 한 컨테이너만도 파드에 담을 수 있는데, 한 파드가 하나의 배포 단위임  
내가 필요한 파드만 확장할 수 있음, 컨테이너는 시스템을 모듈별로 쪼개서 개발을 했을 때 큰 효과를 발휘할수 있음